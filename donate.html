<!DOCTYPE html>
<html lang="en">
  <head>
    <title>UpliftAid</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      href="https://fonts.googleapis.com/css?family=Overpass:300,400,500|Dosis:400,700"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css" />
    <link rel="stylesheet" href="css/animate.css" />
    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link rel="stylesheet" href="css/owl.theme.default.min.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />
    <link rel="stylesheet" href="css/aos.css" />
    <link rel="stylesheet" href="css/ionicons.min.css" />
    <link rel="stylesheet" href="css/bootstrap-datepicker.css" />
    <link rel="stylesheet" href="css/jquery.timepicker.css" />
    <link rel="stylesheet" href="css/flaticon.css" />
    <link rel="stylesheet" href="css/icomoon.css" />

    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light"
      id="ftco-navbar"
    >
      <div class="container">
        <a class="navbar-brand" href="index.html"
          ><img src="./images/logo.png" alt="brand-logo" class="brand-logo"
        /></a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#ftco-nav"
          aria-controls="ftco-nav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="oi oi-menu"></span> Menu
        </button>

        <div class="collapse navbar-collapse" id="ftco-nav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a href="index.html" class="nav-link">Home</a>
            </li>
            <li class="nav-item">
              <a href="how-it-works.html" class="nav-link">How It Works</a>
            </li>
            <li class="nav-item active">
              <a href="donate.html" class="nav-link">Donate</a>
            </li>
            <li class="nav-item">
              <a href="gallery.html" class="nav-link">Gallery</a>
            </li>
            <li class="nav-item">
              <a href="blog.html" class="nav-link">Blog</a>
            </li>
            <li class="nav-item">
              <a href="about.html" class="nav-link">About</a>
            </li>
            <li class="nav-item">
              <a href="contact.html" class="nav-link">Contact</a>
            </li>
            <li class="nav-item">
              <a href="career.html" class="nav-link">Career</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- END nav -->

    <div class="block-31" style="position: relative">
      <div class="owl-carousel loop-block-31">
        <div
        class="block-30 block-30-sm item"
        style="background-image: url('images/bg_4.jpg')"
        data-stellar-background-ratio="0.5"
        >
        <div class="container">
          <div class="row align-items-center justify-content-center">
            <div class="col-md-7 text-center">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- DONATE FORM -->
  <div class="site-section">
    <div class="container">
        <div class="row block-9">
            <div class="col-md-6 pr-md-5">
                <h1>Be a Donor</h1>
                <form action="#" id="donor-form">
                    <div class="form-group">
                        <input type="text" class="form-control px-3 py-3" id="name" name="name" placeholder="Your Name" required />
                    </div>
                    <div class="form-group">
                        <input type="email" class="form-control px-3 py-3" placeholder="Your Email" id="email" name="email" required />
                    </div>
                      <!-- Predefined Amounts -->
                      <div class="form-group">
                        <button type="button" class="btn btn-secondary" onclick="setAmount(25)">₹25</button>
                        <button type="button" class="btn btn-secondary" onclick="setAmount(50)">₹50</button>
                        <button type="button" class="btn btn-secondary" onclick="setAmount(100)">₹100</button>
                    </div>
                    <div class="form-group">
                        <input type="number" id="amount" name="amount" placeholder="Amount in INR" class="form-control px-3 py-3" required />
                    </div>
                     <!-- Image Upload -->
              <div class="form-group">
                <input
                  type="file"
                  class="form-control px-3 py-3"
                  id="donation-image"
                  name="donationImage"
                  accept="image/*"
                  required
                />
                <small class="form-text text-muted important-message">
                  <i class="icon-exclamation"></i> This image will be used to
                  show on our latest donations.
                </small>
              </div>
                    <div class="form-group">
                        <textarea name="message" id="message" cols="30" rows="7" class="form-control px-3 py-3" placeholder="Message"></textarea>
                    </div>
                    <div class="form-group">
                        <select id="payment-method" name="paymentMethod" class="form-control px-3 py-3" required>
                            <option value="" disabled selected>Select Payment Method</option>
                            <option value="debit-card">Debit Card</option>
                            <option value="credit-card">Credit Card</option>
                            <option value="upi">UPI</option>
                            <option value="bank-transfer">Bank Transfer</option>
                        </select>
                    </div>
                    <div class="form-group payment-details" id="debit-card-details">
                        <input type="text" class="form-control px-3 py-3" placeholder="Debit Card Number" id="debit-card-number" required />
                        <input type="text" class="form-control px-3 py-3" placeholder="Expiry Date (MM/YY)" id="debit-card-expiry" required />
                        <input type="text" class="form-control px-3 py-3" placeholder="CVV" id="debit-card-cvv" required />
                    </div>
                    <div class="form-group payment-details" id="credit-card-details">
                        <input type="text" class="form-control px-3 py-3" placeholder="Credit Card Number" id="credit-card-number" required />
                        <input type="text" class="form-control px-3 py-3" placeholder="Expiry Date (MM/YY)" id="credit-card-expiry" required />
                        <input type="text" class="form-control px-3 py-3" placeholder="CVV" id="credit-card-cvv" required />
                    </div>
                    <div class="form-group payment-details" id="upi-details">
                        <input type="text" class="form-control px-3 py-3" placeholder="UPI ID" id="upi-id" required />
                    </div>
                    <div class="form-group payment-details" id="bank-transfer-details">
                        <input type="text" class="form-control px-3 py-3" placeholder="Bank Account Number" id="bank-account-number" required />
                        <input type="text" class="form-control px-3 py-3" placeholder="IFSC Code" id="ifsc-code" required />
                    </div>
                    <div class="form-group">
                        <input type="submit" value="Donate" class="btn btn-primary py-3 px-5" />
                    </div>
                </form>
            </div>
            <div class="donate-block">
                <img src="./images/donation.png" alt="Donation Image" class="donation-image" />
            </div>
        </div>
    </div>
</div>

    <footer class="footer">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md-6 col-lg-4">
            <h3 class="heading-section">About Us</h3>
            <p class="lead">
              UpliftAid Foundation is more than just a non-profit—it's a
            movement.
            </p>
            <p class="mb-5">
              We invite you to join us in our efforts to make the world a
            better, kinder place. Whether through donations, volunteering, or
            raising awareness, your support can help us continue to create
            meaningful change.
            </p>
            <p><a href="about.html" class="link-underline">Read More</a></p>
          </div>
          <div class="col-md-6 col-lg-4">
            <h3 class="heading-section">Recent Blog</h3>
            <div class="block-21 d-flex mb-4">
              <figure class="mr-3">
                <img src="images/img_1.jpg" alt="" class="img-fluid" />
              </figure>
              <div class="text">
                <h3 class="heading">
                  <a href="#">Water Is Life. Clean Water In Urban Area</a>
                </h3>
                <div class="meta">
                  <div>
                    <a href="#"
                      ><span class="icon-calendar"></span> July 29, 2018</a
                    >
                  </div>
                  <div>
                    <a href="#"><span class="icon-person"></span> Admin</a>
                  </div>
                  <div>
                    <a href="#"><span class="icon-chat"></span> 19</a>
                  </div>
                </div>
              </div>
            </div>

            <div class="block-21 d-flex mb-4">
              <figure class="mr-3">
                <img src="images/img_2.jpg" alt="" class="img-fluid" />
              </figure>
              <div class="text">
                <h3 class="heading">
                  <a href="#">Life Is Short So Be Kind</a>
                </h3>
                <div class="meta">
                  <div>
                    <a href="#"
                      ><span class="icon-calendar"></span> July 29, 2018</a
                    >
                  </div>
                  <div>
                    <a href="#"><span class="icon-person"></span> Admin</a>
                  </div>
                  <div>
                    <a href="#"><span class="icon-chat"></span> 19</a>
                  </div>
                </div>
              </div>
            </div>

            <div class="block-21 d-flex mb-4">
              <figure class="mr-3">
                <img src="images/img_4.jpg" alt="" class="img-fluid" />
              </figure>
              <div class="text">
                <h3 class="heading">
                  <a href="#">Unfortunate Children Need Your Love</a>
                </h3>
                <div class="meta">
                  <div>
                    <a href="#"
                      ><span class="icon-calendar"></span> July 29, 2018</a
                    >
                  </div>
                  <div>
                    <a href="#"><span class="icon-person"></span> Admin</a>
                  </div>
                  <div>
                    <a href="#"><span class="icon-chat"></span> 19</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4">
            <div class="block-23">
              <h3 class="heading-section">Get Connected</h3>
              <ul>
                <li>
                  <span class="icon icon-map-marker"></span
                  ><span class="text"
                    >Ghaziabad, Uttar pradesh, India</span
                  >
                </li>
                <li>
                  <a href="#"
                    ><span class="icon icon-phone"></span
                    ><span class="text">+91-8319301961</span></a
                  >
                </li>
                <li>
                  <a href="#"
                    ><span class="icon icon-envelope"></span
                    ><span class="text">hello@upliftaidfoundation.org</span></a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row pt-5">
          <div class="col-md-12 text-center">
            <p>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              Upliftaid All rights reserved
              <i class="ion-ios-heart text-danger" aria-hidden="true"></i> 
              <a href="#" target="_blank"></a>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
          </div>
        </div>
      </div>
    </footer>

    <!-- loader -->
    <div id="ftco-loader" class="show fullscreen">
      <svg class="circular" width="48px" height="48px">
        <circle
          class="path-bg"
          cx="24"
          cy="24"
          r="22"
          fill="none"
          stroke-width="4"
          stroke="#eeeeee"
        />
        <circle
          class="path"
          cx="24"
          cy="24"
          r="22"
          fill="none"
          stroke-width="4"
          stroke-miterlimit="10"
          stroke="#F96D00"
        />
      </svg>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/bootstrap-datepicker.js"></script>

    <script src="js/jquery.fancybox.min.js"></script>

    <script src="js/aos.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
    <script src="js/google-map.js"></script>
    <script src="js/main.js"></script>
    <script src="js/donate-form.js"></script>

    <!--  Api call from backend -->
    <script>
    //   document.addEventListener("DOMContentLoaded", () => {
    //     document.querySelectorAll(".payment-details").forEach((section) => {
    //     section.style.display = "none";
    //     section.querySelectorAll("input").forEach((input) => {
    //       input.disabled = true;
    //     });
    //   });

    //   document.getElementById("payment-method").addEventListener("change", () => {
    //     const paymentMethod = document.getElementById("payment-method").value;

    //     document.querySelectorAll(".payment-details").forEach((section) => {
    //       section.style.display = "none";
    //       section.querySelectorAll("input").forEach((input) => {
    //         input.disabled = true;
    //       });
    //     });

    //     if (paymentMethod === "debit-card") {
    //       const debitCardSection = document.getElementById("debit-card-details");
    //       debitCardSection.style.display = "block";
    //       debitCardSection.querySelectorAll("input").forEach((input) => {
    //         input.disabled = false;
    //       });
    //     } 
    //     else if (paymentMethod === "credit-card") {
    //       const creditCardSection = document.getElementById("credit-card-details");
    //       creditCardSection.style.display = "block";
    //       creditCardSection.querySelectorAll("input").forEach((input) => {
    //         input.disabled = false;
    //       });
    //     } 
    //     else if (paymentMethod === "upi") {
    //       const upiSection = document.getElementById("upi-details");
    //       upiSection.style.display = "block";
    //       upiSection.querySelectorAll("input").forEach((input) => {
    //         input.disabled = false;
    //       });
    //     } 
    //     else if (paymentMethod === "bank-transfer") {
    //       const bankTransferSection = document.getElementById("bank-transfer-details");
    //       bankTransferSection.style.display = "block";
    //       bankTransferSection.querySelectorAll("input").forEach((input) => {
    //         input.disabled = false;
    //       });
    //     }
    //   });

    //   document.getElementById("payment-method").dispatchEvent(new Event("change"));

    //   document.getElementById("donor-form").addEventListener("submit", async (event) => {
    //     event.preventDefault();

    //     const name = document.getElementById("name").value;
    //     const email = document.getElementById("email").value;
    //     const amount = Number(document.getElementById("amount").value);
    //     const message = document.getElementById("message").value;
    //     const paymentMethod = document.getElementById("payment-method").value;

    //     // if (!name || !email || !amount || !message || !paymentMethod) {
    //     //   alert("Please fill in all required fields.");
    //     //   return;
    //     // }


    //     //payment details based on the selected method
    //     let details = {};
    //     if (paymentMethod === "debit-card") {
    //       details = {
    //         cardNumber: document.getElementById("debit-card-number").value,
    //         expiryDate: document.getElementById("debit-card-expiry").value,
    //         cvv: document.getElementById("debit-card-cvv").value,
    //       };
    //     } 
    //     else if (paymentMethod === "credit-card") {
    //       details = {
    //         cardNumber: document.getElementById("credit-card-number").value,
    //         expiryDate: document.getElementById("credit-card-expiry").value,
    //         cvv: document.getElementById("credit-card-cvv").value,
    //       };
    //     } 
    //     else if (paymentMethod === "upi") {
    //       details = {
    //         upiId: document.getElementById("upi-id").value,
    //       };
    //     } 
    //     else if (paymentMethod === "bank-transfer") {
    //       details = {
    //         bankAccountNumber: document.getElementById("bank-account-number").value,
    //         ifscCode: document.getElementById("ifsc-code").value,
    //       };
    //     }

    //     const payload = {
    //       name,
    //       email,
    //       amount,
    //       message,
    //       paymentMethod,
    //       details,
    //     };

    //     // API call using fetch
    //     try {
    //       const response = await fetch("http://localhost:8880/donor/createDonor", {
    //         method: "POST",
    //         headers: {
    //           "Content-Type": "application/json",
    //         },
    //         body: JSON.stringify(payload),
    //       });

    //       const result = await response.json();
    //       if (response.ok) {
    //         alert("Payment successful!");
    //         console.log("Payment response:", result);
    //       } 
    //       else {
    //         alert("Payment failed!" + result.message);
    //         console.error("Payment error:", result);
    //       }
    //     } 
    //     catch (error) {
    //       alert("An error occurred while processing your payment.");
    //       console.error("Fetch error:", error);
    //     }
    //   });
    // });



//     document.addEventListener("DOMContentLoaded", () => {
//   const paymentSections = document.querySelectorAll(".payment-details");
//   const paymentMethodSelect = document.getElementById("payment-method");
//   const donorForm = document.getElementById("donor-form");

//   // Hide all payment details sections and disable inputs initially
//   const hideAllPaymentSections = () => {
//     paymentSections.forEach((section) => {
//       section.style.display = "none";
//       section.querySelectorAll("input").forEach((input) => {
//         input.disabled = true;
//       });
//     });
//   };
  
//   hideAllPaymentSections();

//   // Handle payment method change
//   paymentMethodSelect.addEventListener("change", () => {
//     hideAllPaymentSections();

//     const selectedMethod = paymentMethodSelect.value;
//     const selectedSection = document.getElementById(`${selectedMethod}-details`);
    
//     if (selectedSection) {
//       selectedSection.style.display = "block";
//       selectedSection.querySelectorAll("input").forEach((input) => {
//         input.disabled = false;
//       });
//     }
//   });

//   paymentMethodSelect.dispatchEvent(new Event("change"));

//   // Handle form submission
//   donorForm.addEventListener("submit", async (event) => {
//     event.preventDefault();

//     const name = document.getElementById("name").value.trim();
//     const email = document.getElementById("email").value.trim();
//     const amount = parseFloat(document.getElementById("amount").value);
//     const message = document.getElementById("message").value.trim();
//     const paymentMethod = paymentMethodSelect.value;

//     if (!name || !email || isNaN(amount) || amount <= 0 || !message || !paymentMethod) {
//       alert("Please fill in all required fields correctly.");
//       return;
//     }

//     let details = {};
//     switch (paymentMethod) {
//       case "debit-card":
//       case "credit-card":
//         details = {
//           cardNumber: document.getElementById(`${paymentMethod}-number`).value.trim(),
//           expiryDate: document.getElementById(`${paymentMethod}-expiry`).value.trim(),
//           cvv: document.getElementById(`${paymentMethod}-cvv`).value.trim(),
//         };
//         break;
//       case "upi":
//         details = { upiId: document.getElementById("upi-id").value.trim() };
//         break;
//       case "bank-transfer":
//         details = {
//           bankAccountNumber: document.getElementById("bank-account-number").value.trim(),
//           ifscCode: document.getElementById("ifsc-code").value.trim(),
//         };
//         break;
//       default:
//         alert("Invalid payment method.");
//         return;
//     }

//     const payload = { name, email, amount, message, paymentMethod, details };

//     try {
//       const response = await fetch("http://localhost:8880/donor/createDonor", {
//         method: "POST",
//         headers: { "Content-Type": "application/json" },
//         body: JSON.stringify(payload),
//       });

//       const result = await response.json();
//       if (response.ok) {
//         alert("Payment successful!");
//         console.log("Payment response:", result);
//         donorForm.reset();
//         paymentMethodSelect.dispatchEvent(new Event("change"));
//       } else {
//         alert("Payment failed! " + (result.message || "Please try again."));
//         console.error("Payment error:", result);
//       }
//     } catch (error) {
//       alert("An error occurred while processing your payment. Please try again.");
//       console.error("Fetch error:", error);
//     }
//   });
// });


     </script>
<!-- 
<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".payment-details").forEach((section) => {
      section.style.display = "none";
      section.querySelectorAll("input").forEach((input) => {
        input.disabled = true;
      });
    });

    document.getElementById("payment-method").addEventListener("change", () => {
      const paymentMethod = document.getElementById("payment-method").value;

      document.querySelectorAll(".payment-details").forEach((section) => {
        section.style.display = "none";
        section.querySelectorAll("input").forEach((input) => {
          input.disabled = true;
        });
      });

      if (paymentMethod === "debit-card") {
        const debitCardSection = document.getElementById("debit-card-details");
        debitCardSection.style.display = "block";
        debitCardSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      } else if (paymentMethod === "credit-card") {
        const creditCardSection = document.getElementById("credit-card-details");
        creditCardSection.style.display = "block";
        creditCardSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      } else if (paymentMethod === "upi") {
        const upiSection = document.getElementById("upi-details");
        upiSection.style.display = "block";
        upiSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      } else if (paymentMethod === "bank-transfer") {
        const bankTransferSection = document.getElementById("bank-transfer-details");
        bankTransferSection.style.display = "block";
        bankTransferSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      }
    });

    document.getElementById("payment-method").dispatchEvent(new Event("change"));

    document.getElementById("donor-form").addEventListener("submit", async (event) => {
      event.preventDefault();

      const formData = new FormData();
      formData.append("name", document.getElementById("name").value);
      formData.append("email", document.getElementById("email").value);
      formData.append("amount", Number(document.getElementById("amount").value));
      formData.append("message", document.getElementById("message").value);
      formData.append("paymentMethod", document.getElementById("payment-method").value);

      // Image file
      const imageFile = document.getElementById("donor-image").files[0];
      if (!imageFile) {
        alert("Image upload is required");
        return;
      }
      formData.append("image", imageFile);

      // Payment details
      const paymentMethod = document.getElementById("payment-method").value;
      if (paymentMethod === "debit-card") {
        formData.append("cardNumber", document.getElementById("debit-card-number").value);
        formData.append("expiryDate", document.getElementById("debit-card-expiry").value);
        formData.append("cvv", document.getElementById("debit-card-cvv").value);
      } else if (paymentMethod === "credit-card") {
        formData.append("cardNumber", document.getElementById("credit-card-number").value);
        formData.append("expiryDate", document.getElementById("credit-card-expiry").value);
        formData.append("cvv", document.getElementById("credit-card-cvv").value);
      } else if (paymentMethod === "upi") {
        formData.append("upiId", document.getElementById("upi-id").value);
      } else if (paymentMethod === "bank-transfer") {
        formData.append("bankAccountNumber", document.getElementById("bank-account-number").value);
        formData.append("ifscCode", document.getElementById("ifsc-code").value);
      }

      try {
        const response = await fetch("http://localhost:8880/donor/createDonor", {
          method: "POST",
          body: formData, // Send as FormData
        });

        const result = await response.json();
        if (response.ok) {
          alert("Payment successful!");
          console.log("Payment response:", result);
        } else {
          alert("Payment failed! " + result.message);
          console.error("Payment error:", result);
        }
      } catch (error) {
        alert("An error occurred while processing your payment.");
        console.error("Fetch error:", error);
      }
    });
  });
</script> -->

<!-- 
<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".payment-details").forEach((section) => {
      section.style.display = "none";
      section.querySelectorAll("input").forEach((input) => {
        input.disabled = true;
      });
    });

    document.getElementById("payment-method").addEventListener("change", () => {
      const paymentMethod = document.getElementById("payment-method").value;

      document.querySelectorAll(".payment-details").forEach((section) => {
        section.style.display = "none";
        section.querySelectorAll("input").forEach((input) => {
          input.disabled = true;
        });
      });

      if (paymentMethod === "debit-card") {
        document.getElementById("debit-card-details").style.display = "block";
      } else if (paymentMethod === "credit-card") {
        document.getElementById("credit-card-details").style.display = "block";
      } else if (paymentMethod === "upi") {
        document.getElementById("upi-details").style.display = "block";
      } else if (paymentMethod === "bank-transfer") {
        document.getElementById("bank-transfer-details").style.display = "block";
      }
    });

    document.getElementById("payment-method").dispatchEvent(new Event("change"));

    document.getElementById("donor-form").addEventListener("submit", async (event) => {
      event.preventDefault();

      const formData = new FormData();
      formData.append("name", document.getElementById("name").value);
      formData.append("email", document.getElementById("email").value);
      formData.append("amount", Number(document.getElementById("amount").value));
      formData.append("message", document.getElementById("message").value);
      formData.append("paymentMethod", document.getElementById("payment-method").value);

      // Image file validation
      const imageInput = document.getElementById("donor-image");
      if (imageInput && imageInput.files.length > 0) {
        formData.append("image", imageInput.files[0]);
      } else {
        alert("Image upload is required");
        return;
      }

      // Payment details
      const paymentMethod = document.getElementById("payment-method").value;
      if (paymentMethod === "debit-card") {
        formData.append("cardNumber", document.getElementById("debit-card-number").value);
        formData.append("expiryDate", document.getElementById("debit-card-expiry").value);
        formData.append("cvv", document.getElementById("debit-card-cvv").value);
      } else if (paymentMethod === "credit-card") {
        formData.append("cardNumber", document.getElementById("credit-card-number").value);
        formData.append("expiryDate", document.getElementById("credit-card-expiry").value);
        formData.append("cvv", document.getElementById("credit-card-cvv").value);
      } else if (paymentMethod === "upi") {
        formData.append("upiId", document.getElementById("upi-id").value);
      } else if (paymentMethod === "bank-transfer") {
        formData.append("bankAccountNumber", document.getElementById("bank-account-number").value);
        formData.append("ifscCode", document.getElementById("ifsc-code").value);
      }

      try {
        const response = await fetch("http://localhost:8880/donor/createDonor", {
          method: "POST",
          body: formData, 
        });

        const result = await response.json();
        if (response.ok) {
          alert("Payment successful!");
          console.log("Payment response:", result);
        } else {
          alert("Payment failed! " + result.message);
          console.error("Payment error:", result);
        }
      } catch (error) {
        alert("An error occurred while processing your payment.");
        console.error("Fetch error:", error);
      }
    });
  });
</script> -->



<!-- 

<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".payment-details").forEach((section) => {
      section.style.display = "none";
      section.querySelectorAll("input").forEach((input) => {
        input.disabled = true;
      });
    });

    document.getElementById("payment-method").addEventListener("change", () => {
      const paymentMethod = document.getElementById("payment-method").value;

      document.querySelectorAll(".payment-details").forEach((section) => {
        section.style.display = "none";
        section.querySelectorAll("input").forEach((input) => {
          input.disabled = true;
        });
      });

      if (paymentMethod === "debit-card") {
        const debitCardSection = document.getElementById("debit-card-details");
        debitCardSection.style.display = "block";
        debitCardSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      } 
      else if (paymentMethod === "credit-card") {
        const creditCardSection = document.getElementById("credit-card-details");
        creditCardSection.style.display = "block";
        creditCardSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      } 
      else if (paymentMethod === "upi") {
        const upiSection = document.getElementById("upi-details");
        upiSection.style.display = "block";
        upiSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      } 
      else if (paymentMethod === "bank-transfer") {
        const bankTransferSection = document.getElementById("bank-transfer-details");
        bankTransferSection.style.display = "block";
        bankTransferSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      }
    });

    document.getElementById("payment-method").dispatchEvent(new Event("change"));

    document.getElementById("donor-form").addEventListener("submit", async (event) => {
      event.preventDefault();

      const formData = new FormData();
      formData.append("name", document.getElementById("name").value);
      formData.append("email", document.getElementById("email").value);
      formData.append("amount", Number(document.getElementById("amount").value));
      formData.append("message", document.getElementById("message").value);
      formData.append("paymentMethod", document.getElementById("payment-method").value);

      // Image upload handling
      const imageInput = document.getElementById("donation-image");
      if (imageInput && imageInput.files.length > 0) {
        formData.append("image", imageInput.files[0]);
      } else {
        alert("Image upload is required");
        return;
      }

      // Payment details based on the selected method
      let details = {};
      if (paymentMethod === "debit-card") {
        details = {
          cardNumber: document.getElementById("debit-card-number").value,
          expiryDate: document.getElementById("debit-card-expiry").value,
          cvv: document.getElementById("debit-card-cvv").value,
        };
      } 
      else if (paymentMethod === "credit-card") {
        details = {
          cardNumber: document.getElementById("credit-card-number").value,
          expiryDate: document.getElementById("credit-card-expiry").value,
          cvv: document.getElementById("credit-card-cvv").value,
        };
      } 
      else if (paymentMethod === "upi") {
        details = {
          upiId: document.getElementById("upi-id").value,
        };
      } 
      else if (paymentMethod === "bank-transfer") {
        details = {
          bankAccountNumber: document.getElementById("bank-account-number").value,
          ifscCode: document.getElementById("ifsc-code").value,
        };
      }

      formData.append("paymentDetails", JSON.stringify(details));

      // API call using fetch
      try {
        const response = await fetch("http://localhost:8880/donor/createDonor", {
          method: "POST",
          body: formData, 
        });

        const result = await response.json();
        if (response.ok) {
          alert("Payment successful!");
          console.log("Payment response:", result);
        } 
        else {
          alert("Payment failed! " + result.message);
          console.error("Payment error:", result);
        }
      } 
      catch (error) {
        alert("An error occurred while processing your payment.");
        console.error("Fetch error:", error);
      }
    });
  });
</script> -->



<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".payment-details").forEach((section) => {
      section.style.display = "none";
      section.querySelectorAll("input").forEach((input) => {
        input.disabled = true;
      });
    });

    document.getElementById("payment-method").addEventListener("change", () => {
      const paymentMethod = document.getElementById("payment-method").value;

      document.querySelectorAll(".payment-details").forEach((section) => {
        section.style.display = "none";
        section.querySelectorAll("input").forEach((input) => {
          input.disabled = true;
        });
      });

      if (paymentMethod === "debit-card") {
        const debitCardSection = document.getElementById("debit-card-details");
        debitCardSection.style.display = "block";
        debitCardSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      } 
      else if (paymentMethod === "credit-card") {
        const creditCardSection = document.getElementById("credit-card-details");
        creditCardSection.style.display = "block";
        creditCardSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      } 
      else if (paymentMethod === "upi") {
        const upiSection = document.getElementById("upi-details");
        upiSection.style.display = "block";
        upiSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      } 
      else if (paymentMethod === "bank-transfer") {
        const bankTransferSection = document.getElementById("bank-transfer-details");
        bankTransferSection.style.display = "block";
        bankTransferSection.querySelectorAll("input").forEach((input) => {
          input.disabled = false;
        });
      }
    });

    document.getElementById("payment-method").dispatchEvent(new Event("change"));

    // document.getElementById("donor-form").addEventListener("submit", async (event) => {
    //   event.preventDefault();

    //   const formData = new FormData();
    //   formData.append("name", document.getElementById("name").value);
    //   formData.append("email", document.getElementById("email").value);
    //   formData.append("amount", Number(document.getElementById("amount").value));
    //   formData.append("message", document.getElementById("message").value);
    //   formData.append("paymentMethod", document.getElementById("payment-method").value);

    //   // Handle image upload
    //   // const imageInput = document.getElementById("donation-image");
    //   // if (imageInput && imageInput.files.length > 0) {
    //   //   formData.append("image", imageInput.files[0]);
    //   // } else {
    //   //   alert("Image upload is required");
    //   //   return;
    //   // }

    //   const donationImage = document.getElementById("donation-image").files[0];
    //   if (donationImage) {
    //       formData.append("donationImage", donationImage); // ✅ Matches backend
    //   } else {
    //       alert("Please upload an image!");
    //       return;
    //   }

    //   // Payment details
    //   let details = {};
    //   const paymentMethod = document.getElementById("payment-method").value;

    //   if (paymentMethod === "debit-card") {
    //     details = {
    //       cardNumber: document.getElementById("debit-card-number").value,
    //       expiryDate: document.getElementById("debit-card-expiry").value,
    //       cvv: document.getElementById("debit-card-cvv").value,
    //     };
    //   } 
    //   else if (paymentMethod === "credit-card") {
    //     details = {
    //       cardNumber: document.getElementById("credit-card-number").value,
    //       expiryDate: document.getElementById("credit-card-expiry").value,
    //       cvv: document.getElementById("credit-card-cvv").value,
    //     };
    //   } 
    //   else if (paymentMethod === "upi") {
    //     details = {
    //       upiId: document.getElementById("upi-id").value,
    //     };
    //   } 
    //   else if (paymentMethod === "bank-transfer") {
    //     details = {
    //       bankAccountNumber: document.getElementById("bank-account-number").value,
    //       ifscCode: document.getElementById("ifsc-code").value,
    //     };
    //   }

    //   formData.append("paymentDetails", JSON.stringify(details));

    //   // API call using fetch
    //   try {
    //     const response = await fetch("http://localhost:8880/donor/createDonor", {
    //       method: "POST",
    //       body: formData, // Send formData including image
    //     });

    //     const result = await response.json();
    //     if (response.ok) {
    //       alert("Payment successful!");
    //       console.log("Payment response:", result);
    //     } 
    //     else {
    //       alert("Payment failed! " + result.message);
    //       console.error("Payment error:", result);
    //     }
    //   } 
    //   catch (error) {
    //     alert("An error occurred while processing your payment.");
    //     console.error("Fetch error:", error);
    //   }
    // });
  // });



//   document.getElementById("donor-form").addEventListener("submit", async function (event) {
//     event.preventDefault(); // Prevent default form submission

//     const formData = new FormData();

//     // Collect all values from the form
//     formData.append("name", document.getElementById("name").value.trim());
//     formData.append("email", document.getElementById("email").value.trim());
//     formData.append("amount", document.getElementById("amount").value.trim());
//     formData.append("message", document.getElementById("message").value.trim());
//     formData.append("paymentMethod", document.getElementById("payment-method").value);

//     // Collect payment details dynamically
//     const paymentMethod = document.getElementById("payment-method").value;
//     let details = {};

//     if (paymentMethod === "debit-card") {
//         details = {
//             cardNumber: document.getElementById("debit-card-number").value.trim(),
//             expiry: document.getElementById("debit-card-expiry").value.trim(),
//             cvv: document.getElementById("debit-card-cvv").value.trim()
//         };
//     } else if (paymentMethod === "credit-card") {
//         details = {
//             cardNumber: document.getElementById("credit-card-number").value.trim(),
//             expiry: document.getElementById("credit-card-expiry").value.trim(),
//             cvv: document.getElementById("credit-card-cvv").value.trim()
//         };
//     } else if (paymentMethod === "upi") {
//         details = { upiId: document.getElementById("upi-id").value.trim() };
//     } else if (paymentMethod === "bank-transfer") {
//         details = {
//             bankAccount: document.getElementById("bank-account-number").value.trim(),
//             ifscCode: document.getElementById("ifsc-code").value.trim()
//         };
//     }

//     formData.append("details", JSON.stringify(details));

//     // Collect Image File
//     const imageFile = document.getElementById("donation-image").files[0];
//     if (imageFile) {
//         formData.append("donationImage", imageFile);
//     } else {
//         alert("Please upload an image");
//         return;
//     }

//     // Send Data to Backend
//     try {
//         const response = await fetch("http://localhost:5000/api/donors/createDonor", {
//             method: "POST",
//             body: formData,
//         });

//         const data = await response.json();
//         if (response.ok) {
//             alert("Donation successful!");
//         } else {
//             alert("Error: " + data.message);
//         }
//     } catch (error) {
//         console.error("Error submitting form:", error);
//         alert("Something went wrong!");
//     }
// });

document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("donor-form").addEventListener("submit", async (event) => {
    event.preventDefault();

    const formData = new FormData();
    
    // Get form inputs
    formData.append("name", document.getElementById("name").value);
    formData.append("email", document.getElementById("email").value);
    formData.append("amount", document.getElementById("amount").value);
    formData.append("message", document.getElementById("message").value);
    formData.append("paymentMethod", document.getElementById("payment-method").value);
    
    // Get selected payment method details
    const paymentMethod = document.getElementById("payment-method").value;
    let details = {};

    if (paymentMethod === "debit-card") {
      details = {
        cardNumber: document.getElementById("debit-card-number").value,
        expiryDate: document.getElementById("debit-card-expiry").value,
        cvv: document.getElementById("debit-card-cvv").value,
      };
    } else if (paymentMethod === "credit-card") {
      details = {
        cardNumber: document.getElementById("credit-card-number").value,
        expiryDate: document.getElementById("credit-card-expiry").value,
        cvv: document.getElementById("credit-card-cvv").value,
      };
    } else if (paymentMethod === "upi") {
      details = {
        upiId: document.getElementById("upi-id").value,
      };
    } else if (paymentMethod === "bank-transfer") {
      details = {
        bankAccountNumber: document.getElementById("bank-account-number").value,
        ifscCode: document.getElementById("ifsc-code").value,
      };
    }

    formData.append("details", JSON.stringify(details)); // Append details as JSON string

    // Get image file
    const imageInput = document.getElementById("donation-image");
    if (imageInput.files.length > 0) {
      formData.append("donationImage", imageInput.files[0]);
    } else {
      alert("Please upload an image.");
      return;
    }

    try {
      const response = await fetch("http://localhost:8880/donor/createDonor", {
        method: "POST",
        body: formData, // Send form data
      });

      const result = await response.json();
      if (response.ok) {
        alert("Donation successful!");
        console.log("Donation response:", result);
      } else {
        alert("Donation failed: " + result.message);
        console.error("Donation error:", result);
      }
    } catch (error) {
      alert("An error occurred while processing your donation.");
      console.error("Fetch error:", error);
    }
  });
});


  });




</script>






  </body>
</html>


