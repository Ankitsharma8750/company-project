<!DOCTYPE html>
<html lang="en">
  <head>
    <title>GiveHope &mdash; Website Template by Colorlib</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      href="https://fonts.googleapis.com/css?family=Overpass:300,400,500|Dosis:400,700"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css" />
    <link rel="stylesheet" href="css/animate.css" />
    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link rel="stylesheet" href="css/owl.theme.default.min.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />
    <link rel="stylesheet" href="css/aos.css" />
    <link rel="stylesheet" href="css/ionicons.min.css" />
    <link rel="stylesheet" href="css/bootstrap-datepicker.css" />
    <link rel="stylesheet" href="css/jquery.timepicker.css" />
    <link rel="stylesheet" href="css/flaticon.css" />
    <link rel="stylesheet" href="css/icomoon.css" />

    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light"
      id="ftco-navbar"
    >
      <div class="container">
        <a class="navbar-brand" href="index.html"
          ><img src="./images/logo.png" alt="brand-logo" class="brand-logo"
        /></a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#ftco-nav"
          aria-controls="ftco-nav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="oi oi-menu"></span> Menu
        </button>

        <div class="collapse navbar-collapse" id="ftco-nav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a href="index.html" class="nav-link">Home</a>
            </li>
            <li class="nav-item">
              <a href="how-it-works.html" class="nav-link">How It Works</a>
            </li>
            <li class="nav-item active">
              <a href="donate.html" class="nav-link">Donate</a>
            </li>
            <li class="nav-item">
              <a href="gallery.html" class="nav-link">Gallery</a>
            </li>
            <li class="nav-item">
              <a href="blog.html" class="nav-link">Blog</a>
            </li>
            <li class="nav-item">
              <a href="about.html" class="nav-link">About</a>
            </li>
            <li class="nav-item">
              <a href="contact.html" class="nav-link">Contact</a>
            </li>
            <li class="nav-item">
              <a href="career.html" class="nav-link">Career</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- END nav -->

    <div class="block-31" style="position: relative">
      <div class="owl-carousel loop-block-31">
        <div
        class="block-30 block-30-sm item"
        style="background-image: url('images/bg_4.jpg')"
        data-stellar-background-ratio="0.5"
        >
        <div class="container">
          <div class="row align-items-center justify-content-center">
            <div class="col-md-7 text-center">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- DONATE form -->
  <div class="site-section">
    <div class="container">
      <div class="row block-9">
        <div class="col-md-6 pr-md-5">
          <h1>Be a Donor</h1>
          <form action="#" id="donor-form">
            <div class="form-group">
              <input
              type="text"
              class="form-control px-3 py-3"
              id="name"
              name="Name"
              placeholder="Your Name"
                  required
                />
              </div>
              <div class="form-group">
                <input
                  type="email"
                  class="form-control px-3 py-3"
                  placeholder="Your Email"
                  id="email"
                  name="Email"
                  required
                />
              </div>
              <div class="form-group">
                <input
                  type="number"
                  id="amount"
                  name="Amount"
                  placeholder="Amount in USD"
                  class="form-control px-3 py-3" 
                  required
                />
              </div>
              <div class="form-group">
                <textarea
                  name="Message"
                  id="message"
                  cols="30"
                  rows="7"
                  class="form-control px-3 py-3"
                  placeholder="Message"
                ></textarea>
              </div>
              <div class="form-group">
                <select
                  id="payment-method"
                  name="payment-method"
                  class="form-control px-3 py-3"
                  required
                >
                  <option value="" disabled selected>
                    Select Payment Method
                  </option>
                  <option value="debit-card">Debit Card</option>
                  <option value="credit-card">Credit Card</option>
                  <option value="upi">UPI</option>
                  <option value="bank-transfer">Bank Transfer</option>
                </select>
              </div>
              <div class="form-group payment-details" id="debit-card-details">
                <input
                  type="text"
                  class="form-control px-3 py-3"
                  placeholder="Debit Card Number"
                  id="debit-card-number"
                  required
                />
                <input
                  type="text"
                  class="form-control px-3 py-3"
                  placeholder="Expiry Date (MM/YY)"
                  id="debit-card-expiry"
                  required
                />
                <input
                  type="text"
                  class="form-control px-3 py-3"
                  placeholder="CVV"
                  id="debit-card-cvv"
                  required
                />
              </div>
              <div class="form-group payment-details" id="credit-card-details">
                <input
                  type="text"
                  class="form-control px-3 py-3"
                  placeholder="Credit Card Number"
                  id="credit-card-number"
                  required
                />
                <input
                  type="text"
                  class="form-control px-3 py-3"
                  placeholder="Expiry Date (MM/YY)"
                  id="credit-card-expiry"
                  required
                />
                <input
                  type="text"
                  class="form-control px-3 py-3"
                  placeholder="CVV"
                  id="credit-card-cvv"
                  required
                />
              </div>
              <div class="form-group payment-details" id="upi-details">
                <input
                  type="text"
                  class="form-control px-3 py-3"
                  placeholder="UPI ID"
                  id="upi-id"
                  required
                />
              </div>
              <div
                class="form-group payment-details"
                id="bank-transfer-details"
              >
                <input
                  type="text"
                  class="form-control px-3 py-3"
                  placeholder="Bank Account Number"
                  id="bank-account-number"
                  required
                />
                <input
                  type="text"
                  class="form-control px-3 py-3"
                  placeholder="IFSC Code"
                  id="ifsc-code"
                  required
                />
              </div>
              <div class="form-group">
                <input
                  type="submit"
                  value="Donate"
                  class="btn btn-primary py-3 px-5"
                />
              </div>
            </form>
          </div>
          <div class="donate-block">
            <img
              src="./images/donation.png"
              alt="Donation Image"
              class="donation-image"
            />
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md-6 col-lg-4">
            <h3 class="heading-section">About Us</h3>
            <p class="lead">
              Far far away, behind the word mountains, far from the countries
              Vokalia and Consonantia, there live the blind texts.
            </p>
            <p class="mb-5">
              Separated they live in Bookmarksgrove right at the coast of the
              Semantics, a large language ocean.
            </p>
            <p><a href="#" class="link-underline">Read More</a></p>
          </div>
          <div class="col-md-6 col-lg-4">
            <h3 class="heading-section">Recent Blog</h3>
            <div class="block-21 d-flex mb-4">
              <figure class="mr-3">
                <img src="images/img_1.jpg" alt="" class="img-fluid" />
              </figure>
              <div class="text">
                <h3 class="heading">
                  <a href="#">Water Is Life. Clean Water In Urban Area</a>
                </h3>
                <div class="meta">
                  <div>
                    <a href="#"
                      ><span class="icon-calendar"></span> July 29, 2018</a
                    >
                  </div>
                  <div>
                    <a href="#"><span class="icon-person"></span> Admin</a>
                  </div>
                  <div>
                    <a href="#"><span class="icon-chat"></span> 19</a>
                  </div>
                </div>
              </div>
            </div>

            <div class="block-21 d-flex mb-4">
              <figure class="mr-3">
                <img src="images/img_2.jpg" alt="" class="img-fluid" />
              </figure>
              <div class="text">
                <h3 class="heading">
                  <a href="#">Life Is Short So Be Kind</a>
                </h3>
                <div class="meta">
                  <div>
                    <a href="#"
                      ><span class="icon-calendar"></span> July 29, 2018</a
                    >
                  </div>
                  <div>
                    <a href="#"><span class="icon-person"></span> Admin</a>
                  </div>
                  <div>
                    <a href="#"><span class="icon-chat"></span> 19</a>
                  </div>
                </div>
              </div>
            </div>

            <div class="block-21 d-flex mb-4">
              <figure class="mr-3">
                <img src="images/img_4.jpg" alt="" class="img-fluid" />
              </figure>
              <div class="text">
                <h3 class="heading">
                  <a href="#">Unfortunate Children Need Your Love</a>
                </h3>
                <div class="meta">
                  <div>
                    <a href="#"
                      ><span class="icon-calendar"></span> July 29, 2018</a
                    >
                  </div>
                  <div>
                    <a href="#"><span class="icon-person"></span> Admin</a>
                  </div>
                  <div>
                    <a href="#"><span class="icon-chat"></span> 19</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4">
            <div class="block-23">
              <h3 class="heading-section">Get Connected</h3>
              <ul>
                <li>
                  <span class="icon icon-map-marker"></span
                  ><span class="text"
                    >203 Fake St. Mountain View, San Francisco, California,
                    USA</span
                  >
                </li>
                <li>
                  <a href="#"
                    ><span class="icon icon-phone"></span
                    ><span class="text">+2 392 3929 210</span></a
                  >
                </li>
                <li>
                  <a href="#"
                    ><span class="icon icon-envelope"></span
                    ><span class="text">info@yourdomain.com</span></a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row pt-5">
          <div class="col-md-12 text-center">
            <p>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              All rights reserved | This template is made with
              <i class="ion-ios-heart text-danger" aria-hidden="true"></i> by
              <a href="https://colorlib.com" target="_blank">Colorlib</a>
              <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
          </div>
        </div>
      </div>
    </footer>

    <!-- loader -->
    <div id="ftco-loader" class="show fullscreen">
      <svg class="circular" width="48px" height="48px">
        <circle
          class="path-bg"
          cx="24"
          cy="24"
          r="22"
          fill="none"
          stroke-width="4"
          stroke="#eeeeee"
        />
        <circle
          class="path"
          cx="24"
          cy="24"
          r="22"
          fill="none"
          stroke-width="4"
          stroke-miterlimit="10"
          stroke="#F96D00"
        />
      </svg>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/bootstrap-datepicker.js"></script>

    <script src="js/jquery.fancybox.min.js"></script>

    <script src="js/aos.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
    <script src="js/google-map.js"></script>
    <script src="js/main.js"></script>
    <script src="js/donate-form.js"></script>

    <!--  Api call from backend -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll(".payment-details").forEach((section) => {
        section.style.display = "none";
        section.querySelectorAll("input").forEach((input) => {
          input.disabled = true;
        });
      });

      document.getElementById("payment-method").addEventListener("change", () => {
        const paymentMethod = document.getElementById("payment-method").value;

        document.querySelectorAll(".payment-details").forEach((section) => {
          section.style.display = "none";
          section.querySelectorAll("input").forEach((input) => {
            input.disabled = true;
          });
        });

        if (paymentMethod === "debit-card") {
          const debitCardSection = document.getElementById("debit-card-details");
          debitCardSection.style.display = "block";
          debitCardSection.querySelectorAll("input").forEach((input) => {
            input.disabled = false;
          });
        } 
        else if (paymentMethod === "credit-card") {
          const creditCardSection = document.getElementById("credit-card-details");
          creditCardSection.style.display = "block";
          creditCardSection.querySelectorAll("input").forEach((input) => {
            input.disabled = false;
          });
        } 
        else if (paymentMethod === "upi") {
          const upiSection = document.getElementById("upi-details");
          upiSection.style.display = "block";
          upiSection.querySelectorAll("input").forEach((input) => {
            input.disabled = false;
          });
        } 
        else if (paymentMethod === "bank-transfer") {
          const bankTransferSection = document.getElementById("bank-transfer-details");
          bankTransferSection.style.display = "block";
          bankTransferSection.querySelectorAll("input").forEach((input) => {
            input.disabled = false;
          });
        }
      });

      document.getElementById("payment-method").dispatchEvent(new Event("change"));

      document.getElementById("donor-form").addEventListener("submit", async (event) => {
        event.preventDefault();

        const name = document.getElementById("name").value;
        const email = document.getElementById("email").value;
        const amount = Number(document.getElementById("amount").value);
        const message = document.getElementById("message").value;
        const paymentMethod = document.getElementById("payment-method").value;

        if (!name || !email || !amount || !message || !paymentMethod) {
          alert("Please fill in all required fields.");
          return;
        }


        //payment details based on the selected method
        let details = {};
        if (paymentMethod === "debit-card") {
          details = {
            cardNumber: document.getElementById("debit-card-number").value,
            expiryDate: document.getElementById("debit-card-expiry").value,
            cvv: document.getElementById("debit-card-cvv").value,
          };
        } 
        else if (paymentMethod === "credit-card") {
          details = {
            cardNumber: document.getElementById("credit-card-number").value,
            expiryDate: document.getElementById("credit-card-expiry").value,
            cvv: document.getElementById("credit-card-cvv").value,
          };
        } 
        else if (paymentMethod === "upi") {
          details = {
            upiId: document.getElementById("upi-id").value,
          };
        } 
        else if (paymentMethod === "bank-transfer") {
          details = {
            bankAccountNumber: document.getElementById("bank-account-number").value,
            ifscCode: document.getElementById("ifsc-code").value,
          };
        }

        const payload = {
          name,
          email,
          amount,
          message,
          paymentMethod,
          details,
        };

        // API call using fetch
        try {
          const response = await fetch("http://localhost:8880/donor", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(payload),
          });

          const result = await response.json();
          if (response.ok) {
            alert("Payment successful!");
            console.log("Payment response:", result);
          } 
          else {
            alert("Payment failed!");
            console.error("Payment error:", result);
          }
        } 
        catch (error) {
          alert("An error occurred while processing your payment.");
          console.error("Fetch error:", error);
        }
      });
    });

    </script>
  </body>
</html>


